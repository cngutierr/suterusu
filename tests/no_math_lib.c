#include <stdio.h>
#include <math.h>
void print_erfc(float low, float upper, float step)
{
    float index = low;
    int count = 0;

    printf("float erfc[%0.0f] = \n{", (upper - low)/step);
    while(index < upper)
    {
        printf("%f, ", erfcf(index));
        index += step;
        count++;
        if(count % 10 == 0)
            printf("\n");
    }
    
    printf("};\n");
}
float erfc_tab[500] = 
{1.999593, 1.999571, 1.999547, 1.999523, 1.999497, 1.999469, 1.999441, 1.999411, 1.999379, 1.999346, 
1.999311, 1.999275, 1.999237, 1.999197, 1.999155, 1.999111, 1.999065, 1.999016, 1.998966, 1.998912, 
1.998857, 1.998799, 1.998738, 1.998674, 1.998607, 1.998537, 1.998464, 1.998388, 1.998308, 1.998224, 
1.998137, 1.998046, 1.997951, 1.997851, 1.997747, 1.997639, 1.997525, 1.997407, 1.997284, 1.997155, 
1.997020, 1.996880, 1.996734, 1.996582, 1.996423, 1.996258, 1.996086, 1.995906, 1.995719, 1.995525, 
1.995322, 1.995111, 1.994892, 1.994664, 1.994426, 1.994179, 1.993923, 1.993656, 1.993378, 1.993090, 
1.992790, 1.992479, 1.992156, 1.991821, 1.991472, 1.991111, 1.990736, 1.990347, 1.989943, 1.989525, 
1.989091, 1.988641, 1.988174, 1.987691, 1.987190, 1.986672, 1.986135, 1.985579, 1.985003, 1.984407, 
1.983791, 1.983153, 1.982493, 1.981810, 1.981105, 1.980376, 1.979622, 1.978843, 1.978038, 1.977207, 
1.976348, 1.975462, 1.974547, 1.973603, 1.972628, 1.971623, 1.970586, 1.969516, 1.968414, 1.967277, 
1.966105, 1.964898, 1.963654, 1.962373, 1.961054, 1.959695, 1.958297, 1.956857, 1.955376, 1.953853, 
1.952285, 1.950673, 1.949016, 1.947313, 1.945562, 1.943762, 1.941914, 1.940015, 1.938065, 1.936063, 
1.934008, 1.931899, 1.929734, 1.927514, 1.925236, 1.922900, 1.920506, 1.918050, 1.915534, 1.912956, 
1.910314, 1.907609, 1.904838, 1.902001, 1.899096, 1.896124, 1.893083, 1.889971, 1.886788, 1.883533, 
1.880206, 1.876804, 1.873327, 1.869774, 1.866144, 1.862437, 1.858650, 1.854785, 1.850839, 1.846811, 
1.842701, 1.838509, 1.834232, 1.829871, 1.825424, 1.820891, 1.816272, 1.811564, 1.806768, 1.801884, 
1.796909, 1.791844, 1.786688, 1.781441, 1.776101, 1.770669, 1.765144, 1.759525, 1.753812, 1.748004, 
1.742102, 1.736104, 1.730011, 1.723823, 1.717538, 1.711157, 1.704679, 1.698105, 1.691434, 1.684667, 
1.677802, 1.670841, 1.663783, 1.656629, 1.649378, 1.642031, 1.634587, 1.627048, 1.619413, 1.611683, 
1.603858, 1.595938, 1.587924, 1.579817, 1.571617, 1.563325, 1.554941, 1.546466, 1.537900, 1.529245, 
1.520502, 1.511670, 1.502751, 1.493747, 1.484657, 1.475484, 1.466227, 1.456889, 1.447469, 1.437971, 
1.428394, 1.418741, 1.409011, 1.399208, 1.389332, 1.379384, 1.369367, 1.359281, 1.349128, 1.338910, 
1.328629, 1.318286, 1.307882, 1.297421, 1.286902, 1.276329, 1.265702, 1.255025, 1.244298, 1.233524, 
1.222705, 1.211842, 1.200938, 1.189995, 1.179014, 1.167998, 1.156949, 1.145869, 1.134761, 1.123625, 
1.112465, 1.101283, 1.090080, 1.078860, 1.067624, 1.056374, 1.045113, 1.033844, 1.022567, 1.011286, 
1.000002, 0.988719, 0.977438, 0.966161, 0.954891, 0.943630, 0.932381, 0.921145, 0.909924, 0.898722, 
0.887539, 0.876379, 0.865244, 0.854135, 0.843055, 0.832006, 0.820991, 0.810010, 0.799066, 0.788162, 
0.777300, 0.766480, 0.755706, 0.744980, 0.734302, 0.723676, 0.713102, 0.702584, 0.692122, 0.681719, 
0.671375, 0.661094, 0.650876, 0.640723, 0.630638, 0.620620, 0.610672, 0.600796, 0.590993, 0.581263, 
0.571610, 0.562033, 0.552534, 0.543115, 0.533777, 0.524520, 0.515347, 0.506257, 0.497252, 0.488334, 
0.479502, 0.470758, 0.462103, 0.453538, 0.445063, 0.436679, 0.428386, 0.420186, 0.412079, 0.404065, 
0.396146, 0.388321, 0.380590, 0.372955, 0.365416, 0.357972, 0.350625, 0.343374, 0.336220, 0.329162, 
0.322201, 0.315336, 0.308569, 0.301898, 0.295324, 0.288846, 0.282465, 0.276180, 0.269991, 0.263898, 
0.257901, 0.251998, 0.246191, 0.240478, 0.234859, 0.229333, 0.223901, 0.218562, 0.213314, 0.208158, 
0.203093, 0.198118, 0.193234, 0.188438, 0.183730, 0.179110, 0.174578, 0.170131, 0.165770, 0.161493, 
0.157300, 0.153191, 0.149163, 0.145217, 0.141351, 0.137565, 0.133857, 0.130228, 0.126675, 0.123198, 
0.119796, 0.116468, 0.113213, 0.110030, 0.106919, 0.103877, 0.100905, 0.098000, 0.095163, 0.092393, 
0.089687, 0.087045, 0.084467, 0.081951, 0.079496, 0.077101, 0.074765, 0.072487, 0.070266, 0.068102, 
0.065993, 0.063938, 0.061935, 0.059986, 0.058087, 0.056238, 0.054439, 0.052688, 0.050984, 0.049327, 
0.047715, 0.046148, 0.044624, 0.043143, 0.041704, 0.040305, 0.038947, 0.037628, 0.036346, 0.035103, 
0.033895, 0.032724, 0.031587, 0.030484, 0.029415, 0.028378, 0.027372, 0.026398, 0.025453, 0.024538, 
0.023652, 0.022793, 0.021962, 0.021157, 0.020378, 0.019625, 0.018895, 0.018190, 0.017507, 0.016848, 
0.016210, 0.015593, 0.014997, 0.014422, 0.013866, 0.013329, 0.012810, 0.012309, 0.011826, 0.011360, 
0.010910, 0.010476, 0.010057, 0.009653, 0.009264, 0.008889, 0.008528, 0.008179, 0.007844, 0.007521, 
0.007210, 0.006910, 0.006622, 0.006344, 0.006078, 0.005821, 0.005574, 0.005336, 0.005108, 0.004889, 
0.004678, 0.004475, 0.004281, 0.004094, 0.003914, 0.003742, 0.003577, 0.003418, 0.003266, 0.003120, 
0.002980, 0.002845, 0.002716, 0.002593, 0.002475, 0.002361, 0.002253, 0.002149, 0.002049, 0.001954, 
0.001863, 0.001776, 0.001692, 0.001612, 0.001536, 0.001463, 0.001393, 0.001326, 0.001262, 0.001201, 
0.001143, 0.001088, 0.001035, 0.000984, 0.000935, 0.000889, 0.000845, 0.000803, 0.000763, 0.000725, 
0.000689, 0.000654, 0.000621, 0.000589, 0.000559, 0.000531, 0.000503, 0.000477, 0.000453, 0.000429 };

float my_erfc(float in)
{
    int index;
    if(in >= 2.5)
        return 0.0;
    else if(in <= -2.5)
        return 2.0;
    else
    {
        //convert the input to a useable index
        index = (int)(in*100 + 250);
        printf("new index: %i\n", index);
        return erfc_tab[index];
    }
}
int main()
{
    //print_erfc(-2.5, 2.5, 0.01);
    printf("my_erf(%f) = %f\n", 0.5, my_erfc(0.5)); 
    printf("my_erf(%f) = %f\n", 0.55, my_erfc(0.55)); 
    printf("my_erf(%f) = %f\n", 1.5, my_erfc(1.5)); 
    printf("my_erf(%f) = %f\n", 0.35, my_erfc(0.35)); 
    printf("my_erf(%f) = %f\n", -0.75, my_erfc(-0.75)); 
    printf("my_erf(%f) = %f\n", -0.755, my_erfc(-0.755)); 
    printf("my_erf(%f) = %f\n", -0.005, my_erfc(-0.005)); 
    printf("my_erf(%f) = %f\n", 0.035, my_erfc(-0.035)); 
    
    return 0;
}
